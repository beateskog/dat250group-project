<!DOCTYPE html>
<html>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<body>
    <div class="header">
        <h1>FeedApp</h1>
        <p>A <b>voting application</b> developed to facilitate user feedback through binary yes/no votes on polls.</p>
    </div>

    <!-- User -->
    <div *ngIf="isAuthenticated">
        <div class="navbar">
            <a href="/overview"><i class="fa fa-fw fa-home"></i> Home</a>
            <a href="/createPoll" class="active"><i class="fa fa-fw fa-plus"></i> Create new Poll</a>
            <a href="/myPolls"><i class="fa fa-fw fa-user"></i> My Profile</a>
            <!-- Search bar not available for this component -->
            <!-- <a (click)="navigateToLogin()"> Return to login</a>
            <a (click)="logout()">Logout</a>
            <div class="right">
                <button (click)="searchPollsById(id)" class="button"><i class="fa fa-fw fa-search"></i></button>
                <input type="number" placeholder="Search by Poll ID.." [(ngModel)]="id">
            </div> -->
        </div> <br>

        <!-- <div class="error-message" *ngIf="errorMessage">
            {{ errorMessage }}
        </div> -->
    </div>

    <div class="main">
        <h2>CREATE NEW POLL</h2>

        <div *ngIf="isAuthenticated; else notAuthenticated">
            <form (ngSubmit)="createPoll()">
                <div class="form-group">
                    <label for="question" class="left-label"><i class="fa fa-pencil-square-o"> Poll Question</i></label>
                    <input type="text" id="question" name="question" placeholder="Enter Question"
                        [(ngModel)]="poll.question" required />
                </div>
                <div class="form-group">
                    <label for="start-time" class="left-label"><i class="fa fa-calendar"> Start Time:</i></label>
                    <input type="datetime-local" id="start" name="start-time" [(ngModel)]="poll.startTime" />
                </div>
                <div class="form-group">
                    <label for="end-time" class="left-label"><i class="fa fa-calendar"> End Time:</i></label>
                    <input type="datetime-local" id="end" name="end-time" [(ngModel)]="poll.endTime" />
                </div>

                <div class="form-group">
                    <label for="privacy" class="left-label"><i class="fa fa-lock"> Privacy:</i></label>
                    <select id="privacy" name="privacy" [(ngModel)]="poll.pollPrivacy" class="input-field">
                        <option value="PUBLIC">Public</option>
                        <option value="PRIVATE">Private</option>
                    </select>
                </div>
                <button type="submit" class="publish-button">Publish Poll</button>
            </form>
        </div>
        <div class="error-message" *ngIf="error">
            {{ error }}
        </div>
    </div>


    <ng-template #notAuthenticated>
        <!-- Content for non-authenticated users -->
        <p class="login-text">You have to be logged in to create a poll. <br>
            <button class="login-button" routerLink="/login">Login</button>
        </p>
        <p class="signup-text">Don't have an account yet? Register now! <br>
            <button class="signup-button" routerLink="/register">Sign Up</button>
        </p>
        <p class="backtrack-text">Get back to voting? <br>
            <button class="backtrack-button" routerLink="/overview">Go to Polls</button>
        </p>
    </ng-template>


    <div class="footer">
        <img height="110" src="../../../assets/Logo-new.png">
    </div>
</body>

</html>